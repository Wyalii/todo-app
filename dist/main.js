(()=>{let t=0;async function e(){let t=await fetch("https://app-servers.io/api/todos");return await t.json()}async function n(a){const o=document.querySelector(".box2");var d;o.innerHTML="",a.forEach((a=>{const d=document.createElement("div");d.classList.add("todo");const c=document.createElement("div");c.classList.add("task");const i=document.createElement("input");i.type="checkbox",i.dataset.todoid=a.id,i.checked=a.completed,i.addEventListener("click",(()=>async function(t){let e=document.querySelector(`[data-todoid = "${t}"]`).checked;await fetch(`https://app-servers.io/api/todos/edit/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:e})})}(a.id)));const s=document.createElement("div");s.classList.add("text"),s.textContent=a.task,c.appendChild(i),c.appendChild(s);const l=document.createElement("div");l.classList.add("actions");const r=document.createElement("div");r.classList.add("deleteBtn"),r.textContent="Delete",r.addEventListener("click",(()=>async function(t){await fetch(`https://app-servers.io/api/todos/delete/${t}`,{method:"POST"}),n(await e())}(a.id)));const u=document.createElement("div");u.classList.add("editBtn"),u.textContent="Edit",u.addEventListener("click",(()=>async function(e,n){t=n,document.querySelector(".input").value=e}(a.task,a.id))),l.appendChild(r),l.appendChild(u),d.appendChild(c),d.appendChild(l),o.appendChild(d)})),d=a.length,document.querySelector(".todosCount").innerHTML=d}!async function(){n(await e())}(),document.querySelector(".submit").addEventListener("click",(async function(){let a=document.querySelector(".input").value;""!=a?a<5?alert("ur task can not container less than 5 numbers/symbols"):0!==t?async function(){let a=document.querySelector(".input").value;await fetch(`https://app-servers.io/api/todos/edit/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:a})}),n(await e()),document.querySelector(".input").value="",t=0}():async function(){let t=document.querySelector(".input").value;await async function(t){await fetch("https://app-servers.io/api/todos/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:t})})}(t),n(await e())}():alert("ur task should contain symbols")}))})();